<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>wxEcMath - Official documentation: Syntax to load a curve</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">wxEcMath</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="syntax">Syntax to load a curve </a></h1>With <a class="el" href="classwx_ec_plot.html" title="The component which draws the curves.">wxEcPlot</a>, you can draw 4 types of curves :<ul>
<li>cartesian : y = f(x) marked as <em>wxECT_CARTESIAN</em>.</li><li>parametric : x = f(t) and y = f(t) marked as <em>wxECT_PARAMETRIC</em>.</li><li>polar : r = f(t) marked as <em>wxECT_POLAR</em>.</li><li>cloud : array of (x,y) as <em>wxECT_CLOUD</em>.</li></ul>
To parse a formula automatically, a syntax must be adopted. You can restrict the definition of the curve by using wildcards. Because of <em>theta</em>, parametric and polar curves will be restricted in any case.<ul>
<li>cartesian normal : "3*x+2"</li><li>cartesian restricted : "sqr(x) $ -5 5"</li><li>parametric : "t+2 ; t/2 $ -pi pi"</li><li>polar : "t $ 0 2*pi"</li><li>cloud : (unapplicable)</li></ul>
These strings must be parsed using <a class="el" href="classwx_ec_curve.html#1e798f323977572d1706d41ecbc4e166">wxEcCurve::Parse()</a>, but you can also define a <a class="el" href="classwx_ec_curve.html" title="Defines a curve and its display.">wxEcCurve</a> on your own via the constructor or the methods (required for wxECT_CLOUD). <dl class="warning" compact><dt><b>Warning:</b></dt><dd>If the expression is polar, <a class="el" href="classwx_ec_curve.html#1e798f323977572d1706d41ecbc4e166">wxEcCurve::Parse()</a> takes a second parameter ! Else it will be considered as being parametric.</dd></dl>
As you can see :<ul>
<li>";" delimits the two members of an equation.</li><li>"$" defines a domain, min and max are separated with a space.</li><li>if these characters are not found, the expression will be treated as a non-restricted cartesian curve.</li></ul>
If no domain is given, default values will be chosen. The use of the range will be set accordingly.<p>
When you parse an expression, a default colour is randomly chosen among twenty pre-defined colours. It is a good thing to randomize this automatic choice in your <em>wxApp::OnInit()</em> : <div class="fragment"><pre class="fragment">  srand(time(NULL));
</pre></div><p>
When dealing with a point cloud, you will have to define the curve on your own (data, style, color...). Let's see how to do with a shortened sample : <div class="fragment"><pre class="fragment"><span class="preprocessor">  #include "<a class="code" href="ec__defs_8h.html" title="Definition of the simpliest classes and constants.">ec_defs.h</a>"</span>
<span class="preprocessor">  #include "<a class="code" href="ec__engine_8h.html" title="Contains the mathematical interpreter.">ec_engine.h</a>"</span>
<span class="preprocessor">  #include "<a class="code" href="ec__plot_8h.html" title="Includes the area to draw curves.">ec_plot.h</a>"</span>

  <span class="keyword">class </span>myShortenedClass
  {
      <span class="keyword">private</span>:
          <a class="code" href="classwx_ec_plot.html" title="The component which draws the curves.">wxEcPlot</a> *m_plot;
          wxRealPoint m_cloud[10];
          <span class="keywordtype">void</span> CreateCloud()
          {
              <a class="code" href="classwx_ec_curve.html" title="Defines a curve and its display.">wxEcCurve</a> curve(wxEmptyString, wxEmptyString, <a class="code" href="ec__defs_8h.html#99fb83031ce9923c84392b4e92f956b584196e50fcb28099943f20ea2cad1ce8">wxECT_CLOUD</a>, *wxRED, 1, <span class="keyword">false</span>, <span class="keyword">false</span>, 0, 10, 10, &amp;(m_cloud[0]));
              m_plot-&gt;<a class="code" href="classwx_ec_plot.html#bc19e02253d95c43687f8b4018c48d11">AddCurve</a>(curve);
          }
  }
</pre></div><p>
As the cloud uses a pointer, any modification in <em>m_cloud</em> will affect the plot. Do use <a class="el" href="classwx_ec_plot.html#05b9a7c5efb9a3acc59256c0a357937e">wxEcPlot::Refresh()</a> to update your view. It is not sure it will be performed automatically.<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>The number of points declared in <a class="el" href="classwx_ec_curve.html#1fca61bf6a8e6e9d8baeadb821795314">wxEcCurve::NumPoints</a> must be lower or equal than the capacity of your buffer. If not, it will result in unexpected bugs. </dd></dl>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Feb 28 12:06:47 2010 for wxEcMath - Official documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
